{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nconst form = document.querySelector(\"form.form\");\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const data = new FormData(form);\n\n    doWork(+data.get('delay'), +data.get('step'), +data.get('amount'));\n});\n\nfunction doWork(delay, step, count) {\n    for (let i = 0; i < count; i++) {\n        createPromise(i + 1, delay + step * i)\n            .then(({ position, delay }) => {\n                iziToast.show({\n                    message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n                    position: 'topRight',\n                    balloon: true,\n                    close: false,\n                    backgroundColor: 'green',\n                    maxWidth: 300,\n                    timeout: false,\n                    targetFirst: false,\n                });\n            })\n            .catch(({ position, delay }) => {\n                iziToast.show({\n                    title: `❌ Rejected promise ${position} in ${delay}ms`,\n                    position: 'topRight',\n                    balloon: true,\n                    close: false,\n                    backgroundColor: 'red',\n                    maxWidth: 300,\n                    timeout: false,\n                    targetFirst: false,\n                });\n            });\n    }\n}\n\nfunction createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldResolve) {\n                return resolve({ position, delay });\n            }\n            return reject({ position, delay });\n        }, delay);\n    });\n}\n\n\n"],"names":["form","data","doWork","delay","step","count","i","createPromise","position","iziToast","shouldResolve","resolve","reject"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,WAAW,EAE/CA,EAAK,iBAAiB,SAAW,GAAM,CACnC,EAAE,eAAc,EAChB,MAAMC,EAAO,IAAI,SAASD,CAAI,EAE9BE,EAAO,CAACD,EAAK,IAAI,OAAO,EAAG,CAACA,EAAK,IAAI,MAAM,EAAG,CAACA,EAAK,IAAI,QAAQ,CAAC,CACrE,CAAC,EAED,SAASC,EAAOC,EAAOC,EAAMC,EAAO,CAChC,QAASC,EAAI,EAAGA,EAAID,EAAOC,IACvBC,EAAcD,EAAI,EAAGH,EAAQC,EAAOE,CAAC,EAChC,KAAK,CAAC,CAAE,SAAAE,EAAU,MAAAL,KAAY,CAC3BM,EAAS,KAAK,CACV,QAAS,uBAAuBD,CAAQ,OAAOL,CAAK,KACpD,SAAU,WACV,QAAS,GACT,MAAO,GACP,gBAAiB,QACjB,SAAU,IACV,QAAS,GACT,YAAa,EACjC,CAAiB,CACjB,CAAa,EACA,MAAM,CAAC,CAAE,SAAAK,EAAU,MAAAL,KAAY,CAC5BM,EAAS,KAAK,CACV,MAAO,sBAAsBD,CAAQ,OAAOL,CAAK,KACjD,SAAU,WACV,QAAS,GACT,MAAO,GACP,gBAAiB,MACjB,SAAU,IACV,QAAS,GACT,YAAa,EACjC,CAAiB,CACjB,CAAa,CAEb,CAEA,SAASI,EAAcC,EAAUL,EAAO,CACpC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GAEtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,WAAW,IACHF,EACOC,EAAQ,CAAE,SAAAH,EAAU,MAAAL,CAAO,CAAA,EAE/BS,EAAO,CAAE,SAAAJ,EAAU,MAAAL,CAAO,CAAA,EAClCA,CAAK,CAChB,CAAK,CACL"}